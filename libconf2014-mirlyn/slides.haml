%section
  %h1 Knowing users by their digital footprints
  %h3 Bill Dueber, University of Michigan


%section
  %h2 Who uses your library, and what do they do?

%section
  %h2 
    Who uses your library, and what are they 
    %span.red trying to 
    do?
  %ul
    %li.fragment
      Need to define
      %em every
      word in that question
  %aside.notes Who feels like they have a good handle on that question?

%section
  %h2 Knee-jerk reaction: Reference Librarians
  %ul
    %li And why not? They're in the trenches
    %li ...but the trenches aren't as big as they used to be


%section
  %h2 Data-driven decisions?
  %p 
    In an average year, the average patron interacts with a librarian 
    %strong ZERO
    times (to several significant digits)
  %p.fragment.em --- source: totally made up
  %aside.notes But you know it's true

%section
  %h2 All Animals are created equal
  %p.fragment ...but some are more equal than others

%section
  %h2 Data-driven decisions?
  %div{:style=>"padding: 2em 2em"}
    %div.fragment{:style=>"float:left; width: 40%"}
      %img{:src=>'images/ape.jpg'}
    %div.fragment{:style=>"margin-left: 60%"}
      %img{:src=>"images/pug.jpg"}
  %div.fragment{:style=>"float:left; width: 40%"}
    = "<span class='red'>A</span>ngry"
    = "<span class='red'>P</span>rofessors"
    = "<span class='red'>E</span>meritus"
  %div.fragment{:style=>"margin-left: 60%"}
    = "<span class='red'>P</span>erfect"
    = "<span class='red'>U</span>nder"
    = "<span class='red'>G</span>raduates"


%section
  %h2 Does this look data-driven to you?

%section
  %img{:src=>"images/hm2.png"}

%section
  %h2 (now)
  %a{:href=>"../static/www.lib.umich.edu/index.html"}Current home page


%section
  %h2 The hard truth
  %p All the really hard problems are political
  %p Data can inform the argument
  %p Short-circuit the "MY users..." talk


%section
  %h2 What percentage of your patrons
  %ul
    %li.fragment ...get personalized help from a librarian at a reference desk?
    %li.fragment ...attend classes on library use?
    %li.fragment ...use chat/email reference?
    %li.fragment ...look at instructional pamphlets/posters/screens/whatever?
    %li.fragment.strong.red ...ever even enter the building?

%section
  %h2 The electronic-only (-mostly) users need a voice
  
%section
  %h2 You can be their advocate

   
%section
  %h2 Electronic interaction data to the rescue!
  %ul
    %li.fragment Gather smart logging data!
    %li.fragment ...from lots of diverse systems
    %li.fragment ...about people that you'll never meet
    %li.fragment ...whose intentions are totally opaque
    %li.fragment ...that reveal no personally-identifying information
    %li.fragment ...and are periodically scrubbed and destroyed
  %img.fragment{:src=>'images/despair.jpg'}

%section
  %h2 OK, so that makes it hard
  %h4
    But we
    %em can
    address some questions

%section
  %h2 What kinds of questions?

%section
  %h2 The easy-but-important stuff
  %ul
    %li.fragment How many times is [X] viewed?
    %li.fragment What percentage of users are on [X] technology
    %li.fragment What are the overall traffic patterns (scheduled maintenance)
    %li.fragment What are the section-by-section patterns (over time)
    %li.fragment.strong.red Inferring intent is imperfect but better than not bothering
  %aside.notes Of course, use != utility. It's an indication, though, and can point to where further analysis is warranted. 

%section
  %h2 Google Analytics
  %ul
    %li Easy peasy to set up
    %li Gets you a looooooong way there
    %li More sophisticated every release
    %li Answers all the easy questions and more
    %li.fragment.red Does your privacy policy permit it?


%section
  %h2 Slightly harder, developer-centric questions:
  %p How much time and energy should I spend on [X]
  %ul.fragment
    %li Smart paging / infinite scrolling
    %li Previous/Next buttons
    %li Detailed views
    %li.fragment.red Are poorly used things unwanted or unknown? Are high-use things clicked out of desire or desperation?
  %aside.notes If your 'help' link is clicked a lot, this is not an indicator that you should spend a lot of time on your help pages!!!

%section
  %h2 Harder, very interesting questions
  %ul
    %li.fragment How often are people doing discovery vs. known-item searching?
    %li.fragment Are people finding stuff quickly enough?
    %li.fragment How's our relevancy ranking?

%section
  %h2 "Hey, you! What do you have against Usability Testing?"
  %ul
    %li.fragment 
      Nothing    
      %span.fragment.red -ish
    %li.fragment Interested in both usability and utility
    %li.fragment Knowing what people do is a good hint to their intentions

%section
  %h2 The kicker
  %p I'm not interested in clicks. I'm interested in patrons.
  %p.fragment Differentiate between things with broad use and those with narrow but intense use.


%section
  %h2 My approach to gathering data in the catalog
  %ul
    %li Every important link has an (illegal HTML) 'ref' attribute
    %li It has pipe-delimited data in it
    %li When clicked, an AJAX call sends a "fire and forget" call which is logged to a database

%section
  %h2 What to gather?
  %p Depends on the type of action. 
  %p Generic: Take up to four extra pieces of data
  %ul
    %li.fragment Action (80ish)
    %li.fragment Search text / index
    %li.fragment Record being acted upon
    %li.fragment Number of results
    %li.fragment Index in list (e.g., '1st', '2nd')
    %li.fragment Link text / link target domain 
  %p.fragment Store with the sessionID, timestamp
  %p.fragment
    %a{:href=>'../static/mirlyn.lib.umich.edu/Search/res.html'} Search Results 
    = " / " 
    %a{:href=>'../static/mirlyn.lib.umich.edu/Record/rec.html'} Record view

%section
  %h2 But....why???
  %p.fragment Because I know how to push around a relational database
  %p.fragment Because I can write scripts to muck with structured data
  %p.fragment.red Because if I write a regular expression to parse out a line in an Apache file one more time I'm going to put a gun in my mouth.

%section
  %h2 Overview
  %ul
    %li Last four months or so
    %li 1.04M recorded events


%section
  %h2 Simple: What indexes are searched?
  %ul
    %li.strong Total: 288K searches
    %li All (78%)
    %li Title (14%)
    %li Author (6%)
    %li Subject (1.4%)

%section
  %h2 Most popular searches?
  %ul
    %li jstor
    %li worldcat
    %li pubmed
    %li nature
    %li science
    %li.strong ...but only a total of 1400 searches for these

%section
  %h2 Facet use?
  %ul
    %li Format and Subject most popular
    %li 
      Most common single facet values? 
      %ul
        %li Format: Book
        %li Language: English
        %li Format: DVD
    
    

%section
  %h2 How about we look at sessions?
  %ul
    %li 260K sessions
    %li How many without any searches?
    %li.fragment
      %ul
        %li.fragment 72K (just over a quarter)
        %li.fragment 50% are clicks on e-links; did their search elsewhere
        %li.fragment 25% people logging in to renew/check their accounts
        %li.fragment Others are ILL, bookmarks, etc.

%section
  %h2 Search sessions
  %ul    
    %li
      188K sessions with searches
      %ul
        %li.fragment 60K have nothing but a single search
        %li.fragment Another 23K have nothing but multiple searches
        %li.fragment.red So about half of all sessions that have a search have nothing but a searches
        
%section
  %h2 Sessions with both search and non-search actions
  %p That leaves about 100K sessions that include a search plus something else

%section
  %h2 Further whittle it down
  %ul        
    %li.fragment Eliminate 14K or so with an ISXN search or view of raw MARC
    %li.fragment.red Damn librarians are in my catalog, messin' with my stats
    %li.fragment ...so we're down to about 87K sessions (out of original 260K)
    
    

%section
  %h2 The enemy of my data
  %p.fragment (...besides the librarians)
  %p.fragment ...is the useful search-results page
  %p.fragment Efforts to make it worse have met with resistance 
 
%section
  %h2 Let's look at some numbers

%section
  %h2 What about those 87K sessions?
  %ul
    %li Median length: 4 actions (about a quarter are 2 actions)
    %li Most common last actions: Search (60%) and eLink (19%)
 
%section
  %h2 What percentage of those 87K sessions saw a user:
  %ul
    %li.fragment
      Click on a link to an electronic resource
      %span.fragment.red 49%
    %li.fragment
      Log in
      %span.fragment.red 33%
    %li.fragment
      Go to record page from search results
      %span.fragment.red 36%
    %li.fragment
      Go to a search results page other than the first
      %span.fragment.red 7.5%
    %li.fragment 
      Save to temporary list
      %span.fragment.red 3%
    %li.fragment
      Add a facet
      %span.fragment.red 10% (< 1% if you include "librarians")
    %li.fragment
      Click on suggested/related stuff on the record page
      %span.fragment.red 1.6%
    %li.fragment
      Prev/Next/Back to search buttons
      %span.fragment.red 0.9%
    %li.fragment
      Export record/search to email/text/RIS/refworks
      %span.fragment.red 2.3%
    %li.fragment
      Display the "Get this" (ILL/delivery) screen
      %span.fragment.red 23.7%
    %li.fragment
      Actualy submit a "Get this" request
      %span.fragment.red 16%
    
    
     
%section
  %h2 How far down when they click on a "Go to record" link?
  %ul
    %li.strong Total: 81K clicks
    %li About half are the first link
    %li About 75% in the first four
    %li About 6% past the first page
  %p.fragment.red User behavior or great relevancy ranking?


%section
  %h2 Most common search-leading Markoff Chains (length 2)
  %ul
    %li 
      Search -> Another Search or End of Session
      %span.fragment.red 78%
    %li
      Search -> eLink
      %span.fragment.red 5%
    %li
      Search -> Record Page
      %span.fragment.red 2%
    %li
      Search -> facet
      %span.fragment.red 2%
    %li
      Search -> "Get This"
      %span.fragment.red 2%



%section
  %h2 Follow the clicks by subject
  %table
    %tr
      %th Category
      %th Collection
      %th Record view
      %th eLinks
    %tr
      %td Humanities
      %td 29%
      %td 25%
      %td 15%
    %tr
      %td International Studies
      %td 22%
      %td 14%
      %td 7%
    %tr
      %td Social Sciences
      %td 17%
      %td 20%
      %td 21%
    %tr
      %td Arts
      %td 7%
      %td 11%
      %td 4%
    %tr
      %td Science
      %td 6%
      %td 7%
      %td 14%
    %tr
      %td Engineering
      %td 5%
      %td 6%
      %td 12%

%section
  %h2 Takeaways
  %ul
    %li Logging URLs doesn't get you very far
    %li Logs can help you decide how to spend developer time
    %li Be an advocate for the invisible patrons via data!

%section
  %h2
    The way we
    %em should
    be doing it
  %ul
    %li Log from within the application!
    %li 
      Structured logging!
      %ul
        %li Graylog2
        %li Logstash
        %li Apache Flume
    %li Unified logging
    
      
  

%section
  %h2 Credits
  %ul
    %li 
      Ape photo: 
      %a{:href=>"https://secure.flickr.com/photos/frank-wouters/759211749/"}Frank Wouters       
    %li
      Pug photo:
      %a{:href=>"https://secure.flickr.com/photos/dunechaser/244926568/"}Andrew Becraft
      
%section
  %h2 Discussion
  %p Bill Dueber
  %p bill@dueber.com
  %p University of Michigan
  %p 
    Twitter / Github:
    %em billdueber
    